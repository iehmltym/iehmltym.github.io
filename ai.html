---
layout: null
permalink: /ai/
---
<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>ğŸŒ¸ æ—å¿—ç²ä»Šæ—¥å€¼ç­ AIå°åŠ©æ‰‹</title>
  <style>
    :root {
      --pink-100: #ffe6f2;
      --pink-200: #ffc7e3;
      --pink-300: #ff9fce;
      --pink-400: #ff76b7;
      --pink-500: #ff4fa6;
      --purple-200: #d7c7ff;
      --purple-300: #bfa3ff;
      --purple-400: #a47bff;
      --mint-200: #b8f2e6;
      --mint-300: #84e6d4;
      --yellow-200: #fff4b2;
      --gray-900: #2b1f2f;
      --shadow-soft: 0 12px 30px rgba(255, 79, 166, 0.18);
    }

    * {
      box-sizing: border-box;
      font-family: "PingFang SC", "Microsoft YaHei", "Noto Sans SC", system-ui, sans-serif;
    }

    body {
      margin: 0;
      background: radial-gradient(circle at top, var(--pink-100), #ffffff 60%);
      color: var(--gray-900);
    }

    header {
      padding: 32px 24px 12px;
      text-align: center;
    }

    .badge {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      padding: 8px 16px;
      border-radius: 999px;
      background: var(--pink-200);
      color: var(--gray-900);
      font-weight: 600;
      box-shadow: var(--shadow-soft);
    }

    h1 {
      margin: 16px 0 8px;
      font-size: clamp(28px, 5vw, 46px);
      letter-spacing: 1px;
    }

    .subtitle {
      font-size: 16px;
      color: #6e5169;
      margin: 0 auto;
      max-width: 640px;
    }

    .sparkle {
      display: inline-block;
      animation: float 2.6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
      display: grid;
      gap: 24px;
    }

    .card {
      background: white;
      border-radius: 24px;
      padding: 20px 22px;
      box-shadow: var(--shadow-soft);
      border: 2px solid var(--pink-100);
    }

    .card h2 {
      margin-top: 0;
      font-size: 20px;
    }

    .grid {
      display: grid;
      gap: 18px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }

    label {
      font-size: 14px;
      color: #69485f;
      display: block;
      margin-bottom: 6px;
    }

    input, textarea, select {
      width: 100%;
      border: 2px solid var(--pink-200);
      border-radius: 14px;
      padding: 10px 12px;
      font-size: 14px;
      outline: none;
      transition: 0.2s ease;
      background: #fff9fc;
    }

    input:focus, textarea:focus, select:focus {
      border-color: var(--purple-300);
      box-shadow: 0 0 0 4px rgba(164, 123, 255, 0.15);
    }

    textarea {
      min-height: 96px;
      resize: vertical;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-weight: 600;
      background: linear-gradient(120deg, var(--pink-400), var(--purple-400));
      color: white;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: var(--shadow-soft);
    }

    button:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 14px 30px rgba(164, 123, 255, 0.3);
    }

    .output {
      background: #fff6fb;
      border-radius: 18px;
      padding: 14px 16px;
      border: 1px dashed var(--pink-300);
      min-height: 84px;
      white-space: pre-wrap;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--mint-200);
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 12px;
      margin-right: 8px;
    }

    footer {
      text-align: center;
      padding: 24px;
      color: #7f5c75;
      font-size: 13px;
    }

    .row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }

    .hint {
      font-size: 12px;
      color: #8b6a84;
    }
  </style>
</head>
<body>
  <header>
    <div class="badge">ğŸŒ¸ æ—å¿—ç²å°åŠ©æ‰‹ Â· æç«¯å¯çˆ±æ¨¡å¼ ON</div>
    <h1><span class="sparkle">âœ¨</span> ä½ çš„æ™ºèƒ½å¯çˆ±åç«¯æ§åˆ¶å° <span class="sparkle">âœ¨</span></h1>
    <p class="subtitle">è¿æ¥ä½ çš„åç«¯ APIï¼Œä¸€é”®ä½“éªŒå¯¹è¯ / RAG / Agent / Traceã€‚æŠŠâ€œå¯çˆ±åˆå¼ºå¤§â€å…¨éƒ¨å±•ç¤ºå‡ºæ¥ï¼</p>
  </header>

  <main>
    <section class="card">
      <h2>1. åŸºç¡€è®¾ç½®</h2>
      <div class="grid">
        <div>
          <label for="apiBase">åç«¯ API Base URL</label>
          <input id="apiBase" placeholder="ä¾‹å¦‚ï¼šhttps://your-backend.onrender.com" />
          <div class="hint">ç¤ºä¾‹ï¼šRender/Vercel çš„åœ°å€ï¼Œè®°å¾—å…è®¸ CORSã€‚</div>
        </div>
        <div>
          <label for="sessionId">ä¼šè¯ Session IDï¼ˆå¯é€‰ï¼‰</label>
          <input id="sessionId" placeholder="æ¯”å¦‚ï¼šlizhi-001" />
        </div>
        <div>
          <label for="systemPrompt">å¯çˆ±ç³»ç»Ÿæç¤ºè¯</label>
          <input id="systemPrompt" value="è¯·ç”¨å¯çˆ±çš„è¯­æ°”å›ç­”ï¼Œç®€æ´ã€æ¸©æŸ”ï¼Œåƒå°å¯çˆ±ä¸€æ ·ï½" />
        </div>
      </div>
    </section>

    <section class="card">
      <h2>2. å¯çˆ±å¯¹è¯ /ask</h2>
      <div class="grid">
        <div>
          <label for="askQuestion">è¾“å…¥é—®é¢˜</label>
          <textarea id="askQuestion" placeholder="æ¯”å¦‚ï¼šç°åœ¨å‡ ç‚¹ï¼Ÿæˆ–è€… 3 + 5 = ?"></textarea>
          <div class="row">
            <button onclick="runAsk()">å‘é€åˆ°å°åŠ©æ‰‹</button>
            <span class="pill">æµå¼è¿”å›</span>
          </div>
        </div>
        <div>
          <label>è¾“å‡º</label>
          <div id="askOutput" class="output">ç­‰å¾…ä½ çš„é—®é¢˜ï½</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>3. LLM èƒ½åŠ›å±•ç¤º /llm/complete</h2>
      <div class="grid">
        <div>
          <label for="llmPrompt">Prompt</label>
          <textarea id="llmPrompt" placeholder="ä¾‹å¦‚ï¼šç”¨ä¸€å¥è¯å¤¸å¤¸å°åŠ©æ‰‹"></textarea>
          <div class="row">
            <button onclick="runLlmComplete()">ç”Ÿæˆ</button>
            <span class="pill">åŒæ­¥è¿”å›</span>
          </div>
        </div>
        <div>
          <label>è¾“å‡º</label>
          <div id="llmOutput" class="output">ç­‰ä½ å‘æŒ‡ä»¤ï½</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>4. RAG æ£€ç´¢ /rag/ask</h2>
      <div class="grid">
        <div>
          <label for="ragQuestion">é—®é¢˜</label>
          <textarea id="ragQuestion" placeholder="ä¾‹å¦‚ï¼šä»€ä¹ˆæ˜¯ RAGï¼Ÿ"></textarea>
          <label for="ragMode">æ¨¡å¼</label>
          <select id="ragMode">
            <option value="stuff">stuff</option>
            <option value="map_reduce">map_reduce</option>
            <option value="refine">refine</option>
          </select>
          <div class="row">
            <button onclick="runRagAsk()">å¬å”¤çŸ¥è¯†åº“</button>
          </div>
        </div>
        <div>
          <label>è¾“å‡º</label>
          <div id="ragOutput" class="output">ç­‰å¾…æ£€ç´¢ï½</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>5. Agent ä»»åŠ¡ /agent/ask</h2>
      <div class="grid">
        <div>
          <label for="agentTask">ä»»åŠ¡æè¿°</label>
          <textarea id="agentTask" placeholder="ä¾‹å¦‚ï¼šç”¨å·¥å…·ç®— 12 + 34ï¼Œå†å‘Šè¯‰æˆ‘ç°åœ¨å‡ ç‚¹"></textarea>
          <div class="row">
            <button onclick="runAgentAsk()">æ‰§è¡Œä»»åŠ¡</button>
          </div>
        </div>
        <div>
          <label>è¾“å‡º</label>
          <div id="agentOutput" class="output">ä»»åŠ¡å¾…å‘½ï½</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>6. Trace è°ƒè¯• /trace</h2>
      <div class="row">
        <button onclick="runTrace()">æŸ¥çœ‹æœ€è¿‘ Trace</button>
        <span class="pill">è°ƒè¯•å¯è§‚æµ‹</span>
      </div>
      <div id="traceOutput" class="output" style="margin-top:12px;">å‡†å¤‡å°±ç»ªï½</div>
    </section>
  </main>

  <footer>
    Made with ğŸ’– for æ—å¿—ç²å°åŠ©æ‰‹ Â· æŠŠåç«¯èƒ½åŠ›å˜æˆè¶…çº§å¯çˆ±çš„å‰ç«¯å±•ç¤ºï¼
  </footer>

  <script>
    const getBaseUrl = () => {
      const raw = document.getElementById("apiBase").value.trim();
      if (!raw) {
        throw new Error("è¯·å…ˆå¡«å†™åç«¯ API Base URL");
      }
      return raw.replace(/\/+$/, "");
    };

    const readStream = async (response, onChunk) => {
      const reader = response.body.getReader();
      const decoder = new TextDecoder("utf-8");
      let done = false;
      while (!done) {
        const result = await reader.read();
        done = result.done;
        if (result.value) {
          const chunk = decoder.decode(result.value, { stream: true });
          onChunk(chunk);
        }
      }
    };

    const withLoading = (elementId, text) => {
      const output = document.getElementById(elementId);
      output.textContent = text;
      return output;
    };

    const runAsk = async () => {
      const output = withLoading("askOutput", "å°åŠ©æ‰‹æ­£åœ¨æ€è€ƒä¸­ï½");
      try {
        const res = await fetch(`${getBaseUrl()}/ask`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            question: document.getElementById("askQuestion").value,
            system_prompt: document.getElementById("systemPrompt").value,
            session_id: document.getElementById("sessionId").value || null,
          }),
        });
        output.textContent = "";
        await readStream(res, (chunk) => {
          output.textContent += chunk;
        });
      } catch (error) {
        output.textContent = `å‡ºé”™å•¦ï¼š${error.message}`;
      }
    };

    const runLlmComplete = async () => {
      const output = withLoading("llmOutput", "ç”Ÿæˆä¸­ï½");
      try {
        const res = await fetch(`${getBaseUrl()}/llm/complete`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            prompt: document.getElementById("llmPrompt").value,
            max_output_tokens: 512,
            temperature: 0.7,
          }),
        });
        const data = await res.json();
        output.textContent = `${data.text}\n\nToken ä½¿ç”¨ï¼š${JSON.stringify(data.usage, null, 2)}`;
      } catch (error) {
        output.textContent = `å‡ºé”™å•¦ï¼š${error.message}`;
      }
    };

    const runRagAsk = async () => {
      const output = withLoading("ragOutput", "æ­£åœ¨æ£€ç´¢çŸ¥è¯†ï½");
      try {
        const res = await fetch(`${getBaseUrl()}/rag/ask`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            question: document.getElementById("ragQuestion").value,
            mode: document.getElementById("ragMode").value,
            top_k: 4,
          }),
        });
        const data = await res.json();
        output.textContent = `${data.answer}\n\nReferences: ${JSON.stringify(data.references, null, 2)}`;
      } catch (error) {
        output.textContent = `å‡ºé”™å•¦ï¼š${error.message}`;
      }
    };

    const runAgentAsk = async () => {
      const output = withLoading("agentOutput", "Agent æ­£åœ¨è¡ŒåŠ¨ï½");
      try {
        const res = await fetch(`${getBaseUrl()}/agent/ask`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            task: document.getElementById("agentTask").value,
            session_id: document.getElementById("sessionId").value || null,
          }),
        });
        const data = await res.json();
        output.textContent = `${data.result}\n\nMemory: ${data.memory}`;
      } catch (error) {
        output.textContent = `å‡ºé”™å•¦ï¼š${error.message}`;
      }
    };

    const runTrace = async () => {
      const output = withLoading("traceOutput", "æ­£åœ¨æŠ“å– Traceï½");
      try {
        const res = await fetch(`${getBaseUrl()}/trace`);
        const data = await res.json();
        output.textContent = JSON.stringify(data.spans, null, 2);
      } catch (error) {
        output.textContent = `å‡ºé”™å•¦ï¼š${error.message}`;
      }
    };
  </script>
</body>
</html>
