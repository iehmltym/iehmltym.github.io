---
layout: null
permalink: /ai/
---

<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ—å¿—ç² ä»Šæ—¥å½“ç•ª AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ</title>
  <style>
    /* ==============================
   é»˜è®¤æ— æŸ”å…‰ï¼›focus æ—¶æ‰æŸ”å…‰
   - #q é—®é¢˜åŒº
   - å…¶ä»–è¾“å…¥æ¡† input/select/textarea
   - preï¼ˆå›ç­”/æ‘˜è¦/ç³»ç»Ÿ/æ—¥å¿—ç­‰ï¼‰
   ============================== */

    /* 1) é—®é¢˜åŒºï¼šé»˜è®¤ç²‰è‰²è¾¹æ¡†ï¼ˆæ— æŸ”å…‰ï¼‰ */
    #q {
      border: 2px solid rgba(255, 122, 217, 0.55);
      background: rgba(255, 255, 255, 0.92);
      box-shadow: none;
      /* é»˜è®¤æ— æŸ”å…‰ */
      caret-color: var(--primary-dark);
    }

    #q::placeholder {
      color: rgba(240, 78, 191, 0.55);
    }

    /* é—®é¢˜åŒºï¼šfocus æ‰æŸ”å…‰ */
    #q:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 5px rgba(255, 122, 217, 0.22);
      /* focus æŸ”å…‰ */
    }

    /* 2) å…¶ä»–è¾“å…¥æ¡†ï¼šé»˜è®¤æ·¡ç²‰è¾¹æ¡†ï¼ˆæ— æŸ”å…‰ï¼‰ */
    textarea,
    input[type="text"],
    input[type="number"],
    select {
      border-color: rgba(255, 122, 217, 0.30);
      box-shadow: none;
      /* é»˜è®¤æ— æŸ”å…‰ */
    }

    /* å…¶ä»–è¾“å…¥æ¡†ï¼šfocus æ‰æŸ”å…‰ */
    textarea:focus,
    input[type="text"]:focus,
    input[type="number"]:focus,
    select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(255, 122, 217, 0.20);
      /* focus æŸ”å…‰ */
    }

    /* 3) å›ç­”/æ‘˜è¦/ç³»ç»Ÿ/æ—¥å¿—ï¼šé»˜è®¤ç²‰è‰²è¾¹æ¡†ï¼ˆæ— æŸ”å…‰ï¼‰ */
    pre,
    #ans,
    #attachmentPreview,
    #systemInfo,
    #observabilityEvents,
    #observabilityLog {
      border: 2px solid rgba(255, 122, 217, 0.35);
      background: rgba(255, 255, 255, 0.92);
      box-shadow: none;
      /* é»˜è®¤æ— æŸ”å…‰ */
    }

    /* 4) å…ƒä¿¡æ¯/è§‚æµ‹æ—¥å¿—é¢æ¿ï¼šé»˜è®¤æ— æŸ”å…‰ï¼ˆä¿æŒå¹²å‡€ï¼‰ */
    .meta {
      border: 2px solid rgba(255, 122, 217, 0.30);
      background: rgba(255, 240, 250, 0.55);
      box-shadow: none;
    }

    .log-panel {
      border: 2px dashed rgba(255, 122, 217, 0.35);
      background: rgba(255, 255, 255, 0.92);
      box-shadow: none;
    }


    :root {
      --bg: #fff7ff;
      --card: rgba(255, 255, 255, 0.9);
      --primary: #ff7ad9;
      --primary-dark: #f04ebf;
      --secondary: #7c5cff;
      --accent: #48d1ff;
      --text: #2a1747;
      --muted: #7a6a91;
      --border: rgba(255, 255, 255, 0.6);
      --shadow: 0 18px 40px rgba(255, 122, 217, 0.18);
      --radius: 22px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", system-ui, -apple-system, "PingFang SC", "Microsoft YaHei", Arial;
      background: radial-gradient(circle at top, #ffe9fb 0%, #f7f3ff 45%, #edf7ff 100%);
      color: var(--text);
    }

    .wrap {
      max-width: 1120px;
      margin: 40px auto;
      padding: 0 16px 60px;
      position: relative;
      z-index: 1;
    }

    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 18px;
      padding: 14px 18px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      flex-wrap: wrap;
    }

    .toolbar-group {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .toolbar-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--muted);
    }

    .lang-select {
      border-radius: 999px;
      padding: 8px 14px;
      border: 1px solid rgba(255, 122, 217, 0.3);
      background: rgba(255, 255, 255, 0.9);
      font-size: 13px;
      color: var(--text);
      cursor: pointer;
    }

    .night-toggle {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255, 122, 217, 0.25);
      background: rgba(255, 255, 255, 0.85);
      box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.3);
    }

    .night-toggle input {
      display: none;
    }

    .night-track {
      position: relative;
      width: 48px;
      height: 24px;
      border-radius: 999px;
      background: linear-gradient(120deg, #ffd6f5, #d6f1ff);
      box-shadow: inset 0 0 8px rgba(255, 122, 217, 0.35);
    }

    .night-thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #fff;
      box-shadow: 0 4px 8px rgba(124, 92, 255, 0.25);
      transition: transform 0.25s ease;
    }

    .night-icons {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 6px;
      font-size: 12px;
      pointer-events: none;
    }

    .night-toggle input:checked + .night-track .night-thumb {
      transform: translateX(24px);
    }

    .night-toggle input:checked + .night-track {
      background: linear-gradient(120deg, #1f1a3a, #36275f);
      box-shadow: inset 0 0 10px rgba(255, 214, 245, 0.35);
    }

    .bg-blobs {
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 0;
      pointer-events: none;
    }

    .blob {
      position: absolute;
      width: 320px;
      height: 320px;
      border-radius: 50%;
      filter: blur(10px);
      opacity: 0.5;
      animation: float 10s ease-in-out infinite;
    }

    .blob.one {
      background: #ffd6f5;
      top: -60px;
      left: -60px;
    }

    .blob.two {
      background: #d7f1ff;
      top: 120px;
      right: -80px;
      animation-delay: -2s;
    }

    .blob.three {
      background: #fce6c4;
      bottom: -120px;
      left: 20%;
      animation-delay: -4s;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px) translateX(0px);
      }

      50% {
        transform: translateY(20px) translateX(10px);
      }
    }

    .hero {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 228, 247, 0.85) 50%, rgba(226, 240, 255, 0.9) 100%);
      border: 1px solid rgba(255, 255, 255, 0.7);
      border-radius: var(--radius);
      padding: 28px 24px 24px;
      box-shadow: var(--shadow);
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr);
      gap: 18px;
    }

    .hero h1 {
      margin: 0 0 8px;
      font-size: 30px;
    }

    .hero p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    .card {
      margin-top: 20px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
    }

    .hero-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .hero-tags .tag.emphasis {
      background: rgba(124, 92, 255, 0.15);
      color: var(--secondary);
    }

    .tag {
      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(255, 122, 217, 0.2);
      color: var(--secondary);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
    }

    .hero-art {
      background: rgba(255, 255, 255, 0.75);
      border-radius: 18px;
      padding: 16px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 10px;
    }

    .mascot {
      font-size: 56px;
      filter: drop-shadow(0 8px 10px rgba(255, 122, 217, 0.2));
      animation: bounce 3s ease-in-out infinite;
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    .sparkles {
      display: flex;
      gap: 6px;
      font-size: 14px;
      color: var(--primary-dark);
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
    }

    textarea,
    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.9);
      border-radius: 12px;
      padding: 12px 14px;
      font-size: 15px;
      outline: none;
      transition: border .2s, box-shadow .2s;
      background: rgba(255, 255, 255, 0.95);
    }

    textarea {
      min-height: 140px;
      resize: vertical;
    }

    textarea:focus,
    input[type="text"]:focus,
    input[type="number"]:focus,
    select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(255, 122, 217, 0.2);
    }

    .row {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: var(--muted);
    }

    button {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 10px 18px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      transition: transform .06s, background .2s;
      box-shadow: 0 12px 20px rgba(255, 122, 217, 0.25);
    }

    button:hover {
      background: var(--primary-dark);
    }

    button:active {
      transform: scale(0.98);
    }

    .ghost {
      background: rgba(255, 255, 255, 0.8);
      color: var(--secondary);
      border: 1px solid rgba(124, 92, 255, 0.2);
      box-shadow: none;
    }

    .status {
      font-size: 14px;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #d1d5db;
      display: inline-block;
    }

    .dot.loading {
      background: var(--primary);
      animation: pulse 1s infinite ease-in-out;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        opacity: 0.6;
      }

      50% {
        transform: scale(1.5);
        opacity: 1;
      }

      100% {
        transform: scale(1);
        opacity: 0.6;
      }
    }

    pre {
      white-space: pre-wrap;
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.7);
      padding: 16px;
      border-radius: 12px;
      min-height: 120px;
      font-size: 15px;
      line-height: 1.6;
    }

    .muted {
      color: var(--muted);
      font-size: 13px;
    }

    .meta {
      margin-top: 12px;
      padding: 12px;
      border: 1px dashed rgba(255, 122, 217, 0.4);
      border-radius: 12px;
      background: rgba(255, 240, 250, 0.7);
      font-size: 13px;
      color: var(--muted);
    }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .pill {
      border: 1px solid rgba(255, 255, 255, 0.9);
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.95);
      font-size: 12px;
      color: var(--muted);
      cursor: pointer;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 14px;
      margin-top: 12px;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.9);
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 12px 24px rgba(124, 92, 255, 0.08);
      display: grid;
      gap: 6px;
    }

    .feature-card span {
      font-size: 22px;
    }

    .feature-card strong {
      font-size: 14px;
    }

    .feature-card p {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.5;
    }

    .style-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .style-chip {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(255, 122, 217, 0.2);
      color: var(--primary-dark);
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 13px;
      cursor: pointer;
    }

    .status-panel {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .status-item {
      background: rgba(255, 255, 255, 0.85);
      border-radius: 16px;
      padding: 14px;
      border: 1px solid rgba(255, 255, 255, 0.9);
    }

    .status-item h4 {
      margin: 0 0 6px;
      font-size: 14px;
    }

    .status-item p {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
    }

    .footer {
      margin-top: 24px;
      text-align: center;
      color: var(--muted);
      font-size: 12px;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      margin: 0 0 8px;
    }

    .section-subtitle {
      margin: 0;
      color: var(--muted);
      font-size: 13px;
    }

    .blueprint-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .blueprint-card {
      background: rgba(255, 255, 255, 0.88);
      border-radius: 16px;
      padding: 14px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      display: grid;
      gap: 6px;
    }

    .blueprint-card h4 {
      margin: 0;
      font-size: 14px;
    }

    .blueprint-card p {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.5;
    }

    .api-input {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .api-input input {
      flex: 1;
      min-width: 220px;
    }

    .action-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 12px;
    }

    .action-bar button {
      font-size: 14px;
    }

    .log-panel {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 14px;
      border: 1px dashed rgba(124, 92, 255, 0.3);
      padding: 12px;
      font-size: 12px;
      color: var(--muted);
      white-space: pre-wrap;
    }

    .form-hint {
      font-size: 12px;
      color: var(--muted);
      margin-top: 6px;
    }

    body.night {
      --bg: #1b1329;
      --card: rgba(32, 24, 46, 0.9);
      --primary: #ff90e8;
      --primary-dark: #ff6fd1;
      --secondary: #9b7bff;
      --accent: #72dcff;
      --text: #f7efff;
      --muted: #cbbde4;
      --border: rgba(255, 255, 255, 0.08);
      --shadow: 0 18px 40px rgba(255, 111, 209, 0.22);
    }

    body.night {
      background: radial-gradient(circle at top, #2c1a3d 0%, #1b142f 45%, #111827 100%);
    }

    body.night .hero {
      background: linear-gradient(135deg, rgba(40, 28, 58, 0.95) 0%, rgba(57, 35, 78, 0.9) 50%, rgba(33, 40, 72, 0.95) 100%);
      border-color: rgba(255, 255, 255, 0.12);
    }

    body.night .card,
    body.night .toolbar {
      border-color: rgba(255, 255, 255, 0.12);
      background: rgba(33, 25, 50, 0.92);
    }

    body.night textarea,
    body.night input[type="text"],
    body.night input[type="number"],
    body.night select,
    body.night pre,
    body.night .log-panel,
    body.night .meta {
      background: rgba(26, 19, 39, 0.9);
      color: var(--text);
      border-color: rgba(255, 255, 255, 0.12);
    }

    body.night .tag,
    body.night .pill,
    body.night .style-chip {
      background: rgba(39, 28, 58, 0.85);
      border-color: rgba(255, 255, 255, 0.12);
      color: var(--text);
    }

    body.night .blob.one {
      background: rgba(255, 160, 232, 0.35);
    }

    body.night .blob.two {
      background: rgba(114, 220, 255, 0.28);
    }

    body.night .blob.three {
      background: rgba(255, 209, 150, 0.25);
    }
  </style>
</head>

<body>
  <div class="bg-blobs">
    <div class="blob one"></div>
    <div class="blob two"></div>
    <div class="blob three"></div>
  </div>
  <div class="wrap">
    <div class="toolbar">
      <div class="toolbar-group">
        <span class="toolbar-label" data-i18n="controlsLanguage">è¨€èª</span>
        <select id="langSelect" class="lang-select">
          <option value="ja">æ—¥æœ¬èª</option>
          <option value="zh">ä¸­æ–‡</option>
        </select>
      </div>
      <label class="night-toggle">
        <input id="nightToggle" type="checkbox" />
        <span class="night-track">
          <span class="night-icons">â˜€ï¸ ğŸŒ™</span>
          <span class="night-thumb"></span>
        </span>
        <span class="toolbar-label" data-i18n="controlsNight">ãƒŠã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰</span>
      </label>
    </div>
    <div class="hero">
      <div>
        <h1 data-i18n="heroTitle">ğŸŒ¸æ—å¿—ç² ä»Šæ—¥å½“ç•ª AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ</h1>
        <p data-i18n="heroSubtitle">è³ªå•ã‚’å…¥åŠ›ã—ã¦ã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å„ªã—ãã¦å¯æ„›ã„å›ç­”ãŒå±Šãã¾ã™ã€œ</p>
        <div class="hero-tags">
          <span class="tag emphasis" data-i18n="heroTagDefault">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚„ã•ã—ã„ãƒ¢ãƒ¼ãƒ‰</span>
          <span class="tag" data-i18n="heroTagArch">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ææ¡ˆ</span>
          <span class="tag" data-i18n="heroTagRag">RAG è³‡æ–™æ¤œç´¢</span>
          <span class="tag" data-i18n="heroTagLite">ãƒ©ã‚¤ãƒˆé‹ç”¨</span>
          <span class="tag" data-i18n="heroTagStream">ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡ºåŠ›</span>
        </div>
      </div>
      <div class="hero-art">
        <div class="mascot">ğŸ§­ğŸ§ </div>
        <div class="sparkles">âœ¨ âš¡ï¸ ğŸ“ˆ âœ¨</div>
        <p class="muted" data-i18n="heroArtCaption">Render ãƒ©ã‚¤ãƒˆå®Ÿè·µ</p>
      </div>
    </div>


    <div class="card">
      <label for="q" data-i18n="questionLabel">è³ªå•</label>
      <textarea id="q" data-i18n-placeholder="questionPlaceholder" placeholder="ä¾‹ï¼šæ§‹æˆã§ LangChain ã®ã‚³ã‚¢æ©Ÿèƒ½ã¨å°å…¥ææ¡ˆã‚’èª¬æ˜ã—ã¦"></textarea>

      <div class="api-input">
        <label for="apiInput" data-i18n="apiLabel">API ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
        <input id="apiInput" type="text" />
        <button class="ghost" onclick="saveApiBase()" data-i18n="saveButton">ä¿å­˜</button>
      </div>

      <div class="grid">
        <div>
          <label for="session" data-i18n="sessionLabel">ã‚»ãƒƒã‚·ãƒ§ãƒ³IDï¼ˆè¤‡æ•°ã‚¿ãƒ¼ãƒ³ç”¨ï¼‰</label>
          <input id="session" type="text" />
        </div>
        <div>
          <label for="prompt" data-i18n="promptLabel">ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</label>
          <input id="prompt" type="text" data-i18n-placeholder="promptPlaceholder" placeholder="ä¾‹ï¼šå°‚é–€çš„ã§ç°¡æ½”ã«å›ç­”ã—ã¦" />
        </div>
        <div>
          <label for="attachment" data-i18n="attachmentLabel">æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒ/éŸ³å£°/ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰</label>
          <input id="attachment" type="file" />
          <p class="form-hint" data-i18n="attachmentHint">è‡ªå‹•ã§ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«è¦ç´„ã‚’æœ‰åŠ¹åŒ–ã—ã€å›ç­”ã«çµ±åˆã—ã¾ã™ã€‚</p>
        </div>
      </div>

      <div class="row">
        <button onclick="ask()" data-i18n="askButton">è³ªå•ã™ã‚‹</button>
        <span class="status">
          <span id="dot" class="dot"></span>
          <span id="statusText" data-i18n-default="statusIdle" data-is-default="true">å…¥åŠ›å¾…ã¡</span>
        </span>
        <label class="toggle"><input id="stream" type="checkbox" checked /> <span data-i18n="streamLabel">ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡ºåŠ›</span></label>
        <label class="toggle"><input id="meta" type="checkbox" /> <span data-i18n="metaLabel">ãƒ¡ã‚¿æƒ…å ±ã‚’è¡¨ç¤º</span></label>
        <label class="toggle"><input id="advisor" type="checkbox" /> <span data-i18n="advisorLabel">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ææ¡ˆãƒ¢ãƒ¼ãƒ‰</span></label>
        <label class="toggle"><input id="rag" type="checkbox" /> <span data-i18n="ragLabel">RAG å¼·åŒ–</span></label>
        <label class="toggle"><input id="enableTools" type="checkbox" /> <span data-i18n="toolsLabel">ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—</span></label>
        <label class="toggle"><input id="enableRouter" type="checkbox" checked /> <span data-i18n="routerLabel">Router è‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span></label>
        <button class="ghost" onclick="clearSession()" data-i18n="clearSession">ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢</button>

      </div>
      <div class="action-bar">
        <button class="ghost" onclick="fillAdvisorPrompt()" data-i18n="actionAdvisor">ææ¡ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ</button>
        <button class="ghost" onclick="fillRagPrompt()" data-i18n="actionRag">RAG è³‡æ–™å‹ã®è³ªå•ã‚’ã‚»ãƒƒãƒˆ</button>
      </div>
      <p class="muted" data-i18n="noteMeta">ãƒ’ãƒ³ãƒˆï¼šãƒ¡ã‚¿æƒ…å ±ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¯è‡ªå‹•ã§ã‚ªãƒ•ã«ãªã‚Šã€ææ¡ˆãƒ¢ãƒ¼ãƒ‰ã¯å›ºå®šæ§‹æˆã§å‡ºåŠ›ã—ã¾ã™ã€‚</p>
    </div>

    <div class="card">
      <label data-i18n="styleSection">ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯é¡§å•ã‚¹ã‚¿ã‚¤ãƒ«</label>
      <div class="style-chips">
        <button class="style-chip" data-style-key="styleProfessional">ãƒ—ãƒ­é¡§å•</button>
        <button class="style-chip" data-style-key="styleMinimal">ãƒŸãƒ‹ãƒãƒ«è¦ç‚¹</button>
        <button class="style-chip" data-style-key="styleRoadmap">ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</button>
        <button class="style-chip" data-style-key="styleCost">ã‚³ã‚¹ãƒˆå„ªå…ˆ</button>
      </div>
      <p class="muted" data-i18n="styleHint">ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€Œã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã«è‡ªå‹•å…¥åŠ›ã•ã‚Œã¾ã™ã€‚</p>
    </div>


    <div class="card">
      <label data-i18n="answerLabel">å›ç­”</label>
      <pre id="ans" data-i18n-default="answerDefault" data-is-default="true">ã“ã“ã«AIã®å›ç­”ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€œ</pre>
      <div id="metaPanel" class="meta" data-i18n-default="metaDefault" data-is-default="true">ãƒ¡ã‚¿æƒ…å ±ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
    </div>


    <div class="card">
      <h3 class="section-title" data-i18n="attachmentTitle">ğŸ“ ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æ·»ä»˜ï¼ˆç”»åƒ / éŸ³å£° / ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰</h3>
      <p class="section-subtitle" data-i18n="attachmentSubtitle">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã«è¦ç´„ã‚’ç¢ºèªã—ã¦ã‹ã‚‰è³ªå•ã—ã¾ã—ã‚‡ã†ã€‚</p>
      <div class="grid">
        <div>
          <label for="attachment" data-i18n="attachmentChoose">æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</label>
          <input id="attachment" type="file" />
          <p class="form-hint" data-i18n="attachmentSupport">ç”»åƒã€éŸ³å£°ã€ä¸€èˆ¬ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<= 6MBï¼‰ã«å¯¾å¿œã€‚</p>
        </div>
        <div>
          <label data-i18n="attachmentSummary">æ·»ä»˜è¦ç´„</label>
          <pre id="attachmentPreview" data-i18n-default="attachmentEmpty" data-is-default="true">æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</pre>
        </div>
      </div>
      <div class="row">
        <button class="ghost" onclick="previewAttachment()" data-i18n="attachmentPreviewButton">æ·»ä»˜è¦ç´„ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</button>
      </div>
    </div>

    <div class="card">
      <h3 class="section-title" data-i18n="llmTitle">ğŸ§  LLM ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«</h3>
      <p class="section-subtitle" data-i18n="llmSubtitle">Providerãƒ»æ¸©åº¦ãƒ»tokenãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»ãƒªãƒˆãƒ©ã‚¤ã‚’ã¾ã¨ã‚ã¦è¨­å®šã€‚</p>
      <div class="grid">
        <div>
          <label for="provider" data-i18n="providerLabel">Provider</label>
          <select id="provider"></select>
          <p class="form-hint" data-i18n="providerHint">auto æ¨å¥¨ã€‚Router ãŒè‡ªå‹•é¸æŠã—ã¾ã™ã€‚</p>
        </div>
        <div>
          <label for="temperature" data-i18n="temperatureLabel">Temperature</label>
          <input id="temperature" type="number" min="0" max="2" step="0.1" value="0.7" />
        </div>
        <div>
          <label for="maxTokens" data-i18n="maxTokensLabel">Max tokens</label>
          <input id="maxTokens" type="number" min="128" max="4096" step="128" value="2048" />
        </div>
        <div>
          <label for="topP" data-i18n="topPLabel">Top-p</label>
          <input id="topP" type="number" min="0" max="1" step="0.05" value="1" />
        </div>
        <div>
          <label for="topK" data-i18n="topKLabel">Top-k</label>
          <input id="topK" type="number" min="1" max="40" step="1" value="1" />
        </div>
        <div>
          <label for="retries" data-i18n="retriesLabel">ãƒªãƒˆãƒ©ã‚¤å›æ•°</label>
          <input id="retries" type="number" min="1" max="3" step="1" value="1" />
        </div>
      </div>
      <div class="row">
        <label for="fallback" style="flex:1" data-i18n="fallbackLabel">ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ Providerï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</label>
        <input id="fallback" type="text" data-i18n-placeholder="fallbackPlaceholder" placeholder="ä¾‹ï¼šopenai,anthropic" style="flex:2" />
      </div>
    </div>


    <div class="card">
      <label data-i18n="chainLabel">ãƒã‚§ãƒ¼ãƒ³ãƒ•ãƒ­ãƒ¼ï¼ˆChainsï¼‰</label>
      <div id="chainSteps" class="pill-list"></div>
      <p class="muted" data-i18n="chainHint">å‰å‡¦ç† â†’ ãƒ„ãƒ¼ãƒ« â†’ æ¤œç´¢ â†’ ç”Ÿæˆ â†’ å¾Œå‡¦ç†ã€‚åˆ†å²ã‚„ä¸¦åˆ—ã‚‚æ‹¡å¼µå¯èƒ½ã€‚</p>
    </div>

    <div class="card">
      <label data-i18n="observabilityLabel">ãƒ©ã‚¤ãƒˆè¦³æ¸¬ãƒ‘ãƒãƒ«</label>
      <div class="status-panel">
        <div class="status-item">
          <h4 data-i18n="statRequestsLabel">ãƒªã‚¯ã‚¨ã‚¹ãƒˆç·æ•°</h4>
          <p id="statRequests" data-i18n-default="loading" data-is-default="true">èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
        <div class="status-item">
          <h4 data-i18n="statCacheLabel">ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‘½ä¸­</h4>
          <p id="statCache" data-i18n-default="loading" data-is-default="true">èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
        <div class="status-item">
          <h4 data-i18n="statSessionsLabel">ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°</h4>
          <p id="statSessions" data-i18n-default="loading" data-is-default="true">èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
        <div class="status-item">
          <h4 data-i18n="statStrategyLabel">æˆ¦ç•¥ãƒ’ãƒ³ãƒˆ</h4>
          <p data-i18n="statStrategyText">ä½ã‚³ã‚¹ãƒˆå„ªå…ˆï¼šRAG + streaming â†’ Router â†’ è»½é‡ãƒ„ãƒ¼ãƒ«ã€‚</p>
        </div>
      </div>
      <div class="log-panel" id="observabilityLog" data-i18n-default="observabilityLoading" data-is-default="true">è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’å¾…æ©Ÿä¸­...</div>
    </div>

    <div class="card">
      <h3 class="section-title" data-i18n="opsTitle">ğŸ›°ï¸ é‹ç”¨ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆè¶…ãƒ©ã‚¤ãƒˆï¼‰</h3>
      <p class="section-subtitle" data-i18n="opsSubtitle">ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ãƒ»æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç¢ºèªã€‚</p>
      <div class="action-bar">
        <button class="ghost" onclick="loadSystemInfo()" data-i18n="refreshSystem">ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚’æ›´æ–°</button>
        <button class="ghost" onclick="loadObservability()" data-i18n="loadObservability">æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå–å¾—</button>
        <button class="ghost" onclick="clearObservability()" data-i18n="clearObservability">ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢</button>
        <button class="ghost" onclick="clearCache()" data-i18n="clearCache">å›ç­”ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢</button>
      </div>
      <div class="grid">
        <div>
          <label data-i18n="systemStatusLabel">ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹</label>
          <pre id="systemInfo" data-i18n-default="systemStatusPlaceholder" data-is-default="true">å¾…æ©Ÿä¸­...</pre>
        </div>
        <div>
          <label data-i18n="observabilityLabel2">æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚°</label>
          <pre id="observabilityEvents" data-i18n-default="observabilityPlaceholder" data-is-default="true">å¾…æ©Ÿä¸­...</pre>
        </div>
      </div>
      <p class="muted" data-i18n="opsHint">ãƒ’ãƒ³ãƒˆï¼šãƒ­ã‚°ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ãƒ¡ãƒ¢ãƒªå†…ã®ã¿ã§ã€å†èµ·å‹•ã™ã‚‹ã¨æ¶ˆãˆã¾ã™ã€‚</p>
    </div>


    <div class="footer" data-i18n="footer">Made with â¤ï¸ by iehmltym</div>
  </div>

  <script>
    const DEFAULT_API_BASE = "https://myagent-mhrq.onrender.com";
    const translations = {
      ja: {
        title: "æ—å¿—ç² ä»Šæ—¥å½“ç•ª AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ",
        controlsLanguage: "è¨€èª",
        controlsNight: "ãƒŠã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰",
        heroTitle: "ğŸŒ¸æ—å¿—ç² ä»Šæ—¥å½“ç•ª AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ",
        heroSubtitle: "è³ªå•ã‚’å…¥åŠ›ã—ã¦ã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å„ªã—ãã¦å¯æ„›ã„å›ç­”ãŒå±Šãã¾ã™ã€œ",
        heroApiLabel: "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼š",
        heroTagDefault: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚„ã•ã—ã„ãƒ¢ãƒ¼ãƒ‰",
        heroTagArch: "ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ææ¡ˆ",
        heroTagRag: "RAG è³‡æ–™æ¤œç´¢",
        heroTagLite: "ãƒ©ã‚¤ãƒˆé‹ç”¨",
        heroTagStream: "ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡ºåŠ›",
        heroArtCaption: "Render ãƒ©ã‚¤ãƒˆå®Ÿè·µ",
        questionLabel: "è³ªå•",
        questionPlaceholder: "ä¾‹ï¼šæ§‹æˆã§ LangChain ã®ã‚³ã‚¢æ©Ÿèƒ½ã¨å°å…¥ææ¡ˆã‚’èª¬æ˜ã—ã¦",
        apiLabel: "API ã‚¢ãƒ‰ãƒ¬ã‚¹",
        saveButton: "ä¿å­˜",
        sessionLabel: "ã‚»ãƒƒã‚·ãƒ§ãƒ³IDï¼ˆè¤‡æ•°ã‚¿ãƒ¼ãƒ³ç”¨ï¼‰",
        promptLabel: "ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
        promptPlaceholder: "ä¾‹ï¼šå°‚é–€çš„ã§ç°¡æ½”ã«å›ç­”ã—ã¦",
        attachmentLabel: "æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒ/éŸ³å£°/ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰",
        attachmentHint: "è‡ªå‹•ã§ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«è¦ç´„ã‚’æœ‰åŠ¹åŒ–ã—ã€å›ç­”ã«çµ±åˆã—ã¾ã™ã€‚",
        askButton: "è³ªå•ã™ã‚‹",
        statusIdle: "å…¥åŠ›å¾…ã¡",
        streamLabel: "ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡ºåŠ›",
        metaLabel: "ãƒ¡ã‚¿æƒ…å ±ã‚’è¡¨ç¤º",
        advisorLabel: "ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ææ¡ˆãƒ¢ãƒ¼ãƒ‰",
        ragLabel: "RAG å¼·åŒ–",
        toolsLabel: "ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—",
        routerLabel: "Router è‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
        clearSession: "ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢",
        actionAdvisor: "ææ¡ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ",
        actionRag: "RAG è³‡æ–™å‹ã®è³ªå•ã‚’ã‚»ãƒƒãƒˆ",
        noteMeta: "ãƒ’ãƒ³ãƒˆï¼šãƒ¡ã‚¿æƒ…å ±ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¯è‡ªå‹•ã§ã‚ªãƒ•ã«ãªã‚Šã€ææ¡ˆãƒ¢ãƒ¼ãƒ‰ã¯å›ºå®šæ§‹æˆã§å‡ºåŠ›ã—ã¾ã™ã€‚",
        styleSection: "ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯é¡§å•ã‚¹ã‚¿ã‚¤ãƒ«",
        styleHint: "ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€Œã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã«è‡ªå‹•å…¥åŠ›ã•ã‚Œã¾ã™ã€‚",
        answerLabel: "å›ç­”",
        answerDefault: "ã“ã“ã«AIã®å›ç­”ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€œ",
        metaDefault: "ãƒ¡ã‚¿æƒ…å ±ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚",
        attachmentTitle: "ğŸ“ ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æ·»ä»˜ï¼ˆç”»åƒ / éŸ³å£° / ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰",
        attachmentSubtitle: "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã«è¦ç´„ã‚’ç¢ºèªã—ã¦ã‹ã‚‰è³ªå•ã—ã¾ã—ã‚‡ã†ã€‚",
        attachmentChoose: "æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ",
        attachmentSupport: "ç”»åƒã€éŸ³å£°ã€ä¸€èˆ¬ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<= 6MBï¼‰ã«å¯¾å¿œã€‚",
        attachmentSummary: "æ·»ä»˜è¦ç´„",
        attachmentEmpty: "æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰",
        attachmentPreviewButton: "æ·»ä»˜è¦ç´„ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        llmTitle: "ğŸ§  LLM ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«",
        llmSubtitle: "Providerãƒ»æ¸©åº¦ãƒ»tokenãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»ãƒªãƒˆãƒ©ã‚¤ã‚’ã¾ã¨ã‚ã¦è¨­å®šã€‚",
        providerLabel: "Provider",
        providerHint: "auto æ¨å¥¨ã€‚Router ãŒè‡ªå‹•é¸æŠã—ã¾ã™ã€‚",
        temperatureLabel: "Temperature",
        maxTokensLabel: "Max tokens",
        topPLabel: "Top-p",
        topKLabel: "Top-k",
        retriesLabel: "ãƒªãƒˆãƒ©ã‚¤å›æ•°",
        fallbackLabel: "ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ Providerï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰",
        fallbackPlaceholder: "ä¾‹ï¼šopenai,anthropic",
        chainLabel: "ãƒã‚§ãƒ¼ãƒ³ãƒ•ãƒ­ãƒ¼ï¼ˆChainsï¼‰",
        chainHint: "å‰å‡¦ç† â†’ ãƒ„ãƒ¼ãƒ« â†’ æ¤œç´¢ â†’ ç”Ÿæˆ â†’ å¾Œå‡¦ç†ã€‚åˆ†å²ã‚„ä¸¦åˆ—ã‚‚æ‹¡å¼µå¯èƒ½ã€‚",
        observabilityLabel: "ãƒ©ã‚¤ãƒˆè¦³æ¸¬ãƒ‘ãƒãƒ«",
        statRequestsLabel: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆç·æ•°",
        statCacheLabel: "ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‘½ä¸­",
        statSessionsLabel: "ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°",
        statStrategyLabel: "æˆ¦ç•¥ãƒ’ãƒ³ãƒˆ",
        statStrategyText: "ä½ã‚³ã‚¹ãƒˆå„ªå…ˆï¼šRAG + streaming â†’ Router â†’ è»½é‡ãƒ„ãƒ¼ãƒ«ã€‚",
        observabilityLoading: "è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’å¾…æ©Ÿä¸­...",
        opsTitle: "ğŸ›°ï¸ é‹ç”¨ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆè¶…ãƒ©ã‚¤ãƒˆï¼‰",
        opsSubtitle: "ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ãƒ»æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç¢ºèªã€‚",
        refreshSystem: "ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚’æ›´æ–°",
        loadObservability: "æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå–å¾—",
        clearObservability: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢",
        clearCache: "å›ç­”ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢",
        systemStatusLabel: "ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹",
        systemStatusPlaceholder: "å¾…æ©Ÿä¸­...",
        observabilityLabel2: "æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚°",
        observabilityPlaceholder: "å¾…æ©Ÿä¸­...",
        opsHint: "ãƒ’ãƒ³ãƒˆï¼šãƒ­ã‚°ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ãƒ¡ãƒ¢ãƒªå†…ã®ã¿ã§ã€å†èµ·å‹•ã™ã‚‹ã¨æ¶ˆãˆã¾ã™ã€‚",
        footer: "Made with â¤ï¸ by iehmltym",
        loading: "èª­ã¿è¾¼ã¿ä¸­...",
        alertApiInvalid: "æœ‰åŠ¹ãª API ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
        commandsLoadFail: "ã‚³ãƒãƒ³ãƒ‰ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        blueprintLoadFail: "ãƒ–ãƒ«ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        statsLoadFail: "è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        systemLoading: "èª­ã¿è¾¼ã¿ä¸­...",
        systemFail: "ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        observabilityLoadingText: "èª­ã¿è¾¼ã¿ä¸­...",
        observabilityFail: "è¦³æ¸¬ãƒ­ã‚°ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        observabilityClearing: "ã‚¯ãƒªã‚¢ä¸­...",
        observabilityCleared: "ãƒ­ã‚°ã‚’ {count} ä»¶ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚",
        observabilityClearFail: "ã‚¯ãƒªã‚¢ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        cacheClearing: "ã‚¯ãƒªã‚¢ä¸­...",
        cacheCleared: "ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚{count} ä»¶å‰Šé™¤ã€æ®‹ã‚Š {size}ã€‚",
        cacheClearFail: "ã‚¯ãƒªã‚¢ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
        sessionMissing: "ã¾ãšã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
        sessionCleared: "ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã‚‚å«ã‚€ï¼‰",
        attachmentMissing: "å…ˆã«æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚",
        attachmentAnalyzing: "è§£æä¸­...",
        attachmentParseFail: "è§£æã«å¤±æ•—ã—ã¾ã—ãŸï¼š{message}",
        advisorPrompt: "ã€Œã‚³ã‚¢èƒ½åŠ›ï¼ˆLangChainã§ã§ãã‚‹ã“ã¨ï¼‰â†’ ä»£è¡¨çš„ãªä½¿ã„æ–¹ â†’ Renderã®å®Ÿè£…ææ¡ˆ â†’ æ¬¡ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã€ã®æ§‹æˆã§èª¬æ˜ã—ã¦ãã ã•ã„ã€‚",
        ragPrompt: "RAGãƒ»Agentãƒ»Routerãƒ»Streamingã®å·¥å­¦çš„ä¾¡å€¤ã‚’è¸ã¾ãˆã€å„ªå…ˆé †ä½ã¨æ³¨æ„ç‚¹ã‚’å…·ä½“ä¾‹ã§ç¤ºã—ã¦ãã ã•ã„ã€‚",
        questionMissing: "å…ˆã«è³ªå•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€œ",
        statusRequesting: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­...",
        statusDone: "å®Œäº† âœ…",
        statusFail: "å¤±æ•— âŒ",
        answerMissing: "(ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒ answer ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿”ã—ã¦ã„ã¾ã›ã‚“)",
        corsHint: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸï¼š\n{message}\n\nãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§CORSã‚¨ãƒ©ãƒ¼ãŒè¦‹ãˆã‚‹å ´åˆã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ https://iehmltym.github.io ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚",
        statRequestsText: "ç·æ•° {total} Â· LLM {llm} Â· ãƒ«ãƒ¼ãƒ« {rule}",
        statCacheText: "å‘½ä¸­ {hits} / å¤±åŠ¹ {misses} Â· ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚º {size}",
        statSessionsText: "ã‚¢ã‚¯ãƒ†ã‚£ãƒ– {active} / ä¸Šé™ {max}",
        observabilitySummary: "æœ€è¿‘ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆçµ±è¨ˆï¼šLLM {llm} å›ã€ãƒ«ãƒ¼ãƒ«å‘½ä¸­ {rule} å›ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‘½ä¸­ {cache} å›ã€‚",
        metaTemplate: "ã‚½ãƒ¼ã‚¹ï¼š{source} | ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‘½ä¸­ï¼š{cacheHit} | ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ï¼š{latency}ms{ragInfo}{providerInfo}{routeInfo}{attachmentInfo}",
        ragInfo: " | RAG ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼š{docs}",
        providerInfo: " | Providerï¼š{provider}",
        routeInfo: " | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼š{route}",
        attachmentInfo: " | æ·»ä»˜ï¼š{name} ({size}B)",
        blueprintCore: "ã‚³ã‚¢èƒ½åŠ›",
        blueprintUse: "å…¸å‹çš„ãªä½¿ã„æ–¹",
        blueprintRender: "Render",
        blueprintNext: "æ¬¡ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
        styleChips: {
          styleProfessional: {
            label: "ãƒ—ãƒ­é¡§å•",
            prompt: "å°‚é–€çš„ã§ç°¡æ½”ãªé¡§å•å£èª¿ã§å›ç­”ã—ã€å®Ÿè¡Œã§ãã‚‹è¦ç‚¹ã‚’ç¤ºã—ã¦ãã ã•ã„ã€‚"
          },
          styleMinimal: {
            label: "ãƒŸãƒ‹ãƒãƒ«è¦ç‚¹",
            prompt: "ç®‡æ¡æ›¸ãã§å‡ºåŠ›ã—ã€å„æ®µè½ã¯3è¡Œä»¥å†…ã«ã—ã¦ãã ã•ã„ã€‚"
          },
          styleRoadmap: {
            label: "ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—",
            prompt: "ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—å½¢å¼ã§å›ç­”ã—ã€çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¤ºã—ã¦ãã ã•ã„ã€‚"
          },
          styleCost: {
            label: "ã‚³ã‚¹ãƒˆå„ªå…ˆ",
            prompt: "ã‚³ã‚¹ãƒˆã¨æ€§èƒ½ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å¼·èª¿ã—ã€çŸ­ã„ææ¡ˆã‚’å‡ºã—ã¦ãã ã•ã„ã€‚"
          }
        }
      },
      zh: {
        title: "æ—å¿—ç²ä»Šæ—¥å€¼ç­AIå°åŠ©æ‰‹",
        controlsLanguage: "è¯­è¨€",
        controlsNight: "å¤œé—´æ¨¡å¼",
        heroTitle: "ğŸŒ¸æ—å¿—ç²ä»Šæ—¥å€¼ç­ AIå°åŠ©æ‰‹",
        heroSubtitle: "è¾“å…¥é—®é¢˜ï¼Œç‚¹å‡»ï¼Œè·å–æ¸©æŸ”å¯çˆ±çš„å›ç­”~",
        heroTagDefault: "é»˜è®¤æ¸©æŸ”æ¨¡å¼",
        heroTagArch: "æ¶æ„å»ºè®®",
        heroTagRag: "RAG èµ„æ–™æ£€ç´¢",
        heroTagLite: "è½»é‡è½åœ°",
        heroTagStream: "æµå¼è¾“å‡º",
        heroArtCaption: "Renderè½»é‡å®æˆ˜",
        questionLabel: "ä½ çš„é—®é¢˜",
        questionPlaceholder: "ä¾‹å¦‚ï¼šæŒ‰ç»“æ„è¯´æ˜ LangChain æ ¸å¿ƒèƒ½åŠ›ä¸è½åœ°å»ºè®®",
        apiLabel: "API åœ°å€",
        saveButton: "ä¿å­˜",
        sessionLabel: "ä¼šè¯ IDï¼ˆç”¨äºå¤šè½®ä¸Šä¸‹æ–‡ï¼‰",
        promptLabel: "è‡ªå®šä¹‰é£æ ¼æç¤ºè¯",
        promptPlaceholder: "ä¾‹å¦‚ï¼šè¯·ç”¨ä¸“ä¸šä½†ç®€æ´çš„è¯­æ°”å›ç­”",
        attachmentLabel: "ä¸Šä¼ é™„ä»¶ï¼ˆå›¾ç‰‡/éŸ³é¢‘/æ–‡ä»¶ï¼‰",
        attachmentHint: "å°†è‡ªåŠ¨å¯ç”¨å¤šæ¨¡æ€æ‘˜è¦ï¼Œåˆå¹¶åˆ°å›ç­”ä¸Šä¸‹æ–‡ã€‚",
        askButton: "æé—®",
        statusIdle: "ç­‰å¾…è¾“å…¥",
        streamLabel: "æµå¼è¾“å‡º",
        metaLabel: "æ˜¾ç¤ºå…ƒä¿¡æ¯",
        advisorLabel: "æ¶æ„å»ºè®®æ¨¡å¼",
        ragLabel: "RAG èµ„æ–™å¢å¼º",
        toolsLabel: "å·¥å…·è°ƒç”¨",
        routerLabel: "Router è‡ªåŠ¨è·¯ç”±",
        clearSession: "æ¸…ç©ºä¼šè¯",
        actionAdvisor: "ä¸€é”®ç”Ÿæˆå‡çº§å»ºè®®æç¤ºè¯",
        actionRag: "ä¸€é”® RAG èµ„æ–™å‹æé—®",
        noteMeta: "æç¤ºï¼šå¼€å¯â€œå…ƒä¿¡æ¯â€æ—¶ä¼šè‡ªåŠ¨å…³é—­æµå¼è¾“å‡ºï¼›æ¶æ„å»ºè®®æ¨¡å¼ä¼šæŒ‰å›ºå®šç»“æ„è¾“å‡ºã€‚",
        styleSection: "ä¸€é”®é¡¾é—®é£æ ¼",
        styleHint: "ç‚¹å‡»åä¼šè‡ªåŠ¨å¡«å……ã€Œè‡ªå®šä¹‰é£æ ¼æç¤ºè¯ã€ã€‚",
        answerLabel: "å›ç­”",
        answerDefault: "è¿™é‡Œä¼šæ˜¾ç¤º AI çš„å›ç­”ï½",
        metaDefault: "å…ƒä¿¡æ¯ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œã€‚",
        attachmentTitle: "ğŸ“ å¤šæ¨¡æ€é™„ä»¶ï¼ˆå›¾ç‰‡ / éŸ³é¢‘ / æ–‡ä»¶ï¼‰",
        attachmentSubtitle: "ä¸Šä¼ åå…ˆé¢„è§ˆç»“æ„åŒ–æ‘˜è¦ï¼Œå†å¸¦ç€æ‘˜è¦å‘é—®ã€‚",
        attachmentChoose: "é€‰æ‹©é™„ä»¶",
        attachmentSupport: "æ”¯æŒå›¾ç‰‡ã€éŸ³é¢‘ä¸é€šç”¨æ–‡ä»¶ï¼ˆ<= 6MBï¼‰ã€‚",
        attachmentSummary: "é™„ä»¶æ‘˜è¦",
        attachmentEmpty: "å°šæœªä¸Šä¼ ",
        attachmentPreviewButton: "é¢„è§ˆé™„ä»¶æ‘˜è¦",
        llmTitle: "ğŸ§  LLM æ§åˆ¶é¢æ¿",
        llmSubtitle: "ç»Ÿä¸€é…ç½® Providerã€æ¸©åº¦ã€tokenã€å›é€€ä¸é‡è¯•ç­–ç•¥ã€‚",
        providerLabel: "Provider",
        providerHint: "å»ºè®®ä½¿ç”¨ autoï¼Œç”± Router è‡ªåŠ¨é€‰æ‹©ã€‚",
        temperatureLabel: "Temperature",
        maxTokensLabel: "Max tokens",
        topPLabel: "Top-p",
        topKLabel: "Top-k",
        retriesLabel: "é‡è¯•æ¬¡æ•°",
        fallbackLabel: "å›é€€ Providerï¼ˆé€—å·åˆ†éš”ï¼‰",
        fallbackPlaceholder: "ä¾‹å¦‚ï¼šopenai,anthropic",
        chainLabel: "é“¾å¼æµç¨‹ï¼ˆChainsï¼‰",
        chainHint: "é¢„å¤„ç† â†’ å·¥å…· â†’ æ£€ç´¢ â†’ ç”Ÿæˆ â†’ åå¤„ç†ï¼Œå¯æ‰©å±•åˆ†æ”¯ä¸å¹¶è¡Œã€‚",
        observabilityLabel: "è½»é‡è§‚æµ‹é¢æ¿",
        statRequestsLabel: "è¯·æ±‚æ€»é‡",
        statCacheLabel: "ç¼“å­˜å‘½ä¸­",
        statSessionsLabel: "ä¼šè¯æ•°",
        statStrategyLabel: "ç­–ç•¥æç¤º",
        statStrategyText: "ä½æˆæœ¬ä¼˜å…ˆï¼šRAG + streaming â†’ Router â†’ è½»é‡å·¥å…·ã€‚",
        observabilityLoading: "ç­‰å¾…åˆ·æ–°è§‚æµ‹æ•°æ®...",
        opsTitle: "ğŸ›°ï¸ è¿è¥æ§åˆ¶å°ï¼ˆè¶…è½»é‡å‹å¥½ï¼‰",
        opsSubtitle: "ä¸€é”®æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ã€è¿‘æœŸè¯·æ±‚ã€ç¼“å­˜ä¸ä¼šè¯ï¼Œè¿è¥æ›´ç¨³ã€‚",
        refreshSystem: "åˆ·æ–°ç³»ç»ŸçŠ¶æ€",
        loadObservability: "æ‹‰å–æœ€è¿‘è¯·æ±‚",
        clearObservability: "æ¸…ç©ºè¯·æ±‚æ—¥å¿—",
        clearCache: "æ¸…ç©ºå›ç­”ç¼“å­˜",
        systemStatusLabel: "ç³»ç»ŸçŠ¶æ€",
        systemStatusPlaceholder: "ç­‰å¾…æŸ¥è¯¢...",
        observabilityLabel2: "æœ€è¿‘è¯·æ±‚æ—¥å¿—",
        observabilityPlaceholder: "ç­‰å¾…æŸ¥è¯¢...",
        opsHint: "æç¤ºï¼šæ—¥å¿—ä¸ç¼“å­˜å‡ä¸ºå†…å­˜çº§åˆ«ï¼Œé‡å¯åä¼šæ¸…ç©ºã€‚",
        footer: "Made with â¤ï¸ by iehmltym",
        loading: "åŠ è½½ä¸­...",
        alertApiInvalid: "è¯·è¾“å…¥æœ‰æ•ˆçš„ API åœ°å€",
        commandsLoadFail: "å‘½ä»¤åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        blueprintLoadFail: "è“å›¾åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        statsLoadFail: "è§‚æµ‹æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        systemLoading: "åŠ è½½ä¸­...",
        systemFail: "ç³»ç»ŸçŠ¶æ€è·å–å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        observabilityLoadingText: "åŠ è½½ä¸­...",
        observabilityFail: "è§‚æµ‹æ—¥å¿—è·å–å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        observabilityClearing: "æ¸…ç©ºä¸­...",
        observabilityCleared: "å·²æ¸…ç©º {count} æ¡æ—¥å¿—ã€‚",
        observabilityClearFail: "æ¸…ç©ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        cacheClearing: "æ¸…ç©ºä¸­...",
        cacheCleared: "ç¼“å­˜å·²æ¸…ç©ºï¼Œæ¸…é™¤ {count} æ¡ï¼Œå‰©ä½™ {size}ã€‚",
        cacheClearFail: "æ¸…ç©ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",
        sessionMissing: "è¯·å…ˆå¡«å†™ä¼šè¯ ID",
        sessionCleared: "ä¼šè¯å·²æ¸…ç©ºï¼ˆæˆ–ä¸å­˜åœ¨ï¼‰",
        attachmentMissing: "è¯·å…ˆé€‰æ‹©é™„ä»¶ã€‚",
        attachmentAnalyzing: "åˆ†æä¸­...",
        attachmentParseFail: "è§£æå¤±è´¥ï¼š{message}",
        advisorPrompt: "æŒ‰â€œæ ¸å¿ƒèƒ½åŠ›ï¼ˆLangChain èƒ½åšä»€ä¹ˆï¼‰â†’ å…¸å‹ç”¨æ³• â†’ Render è½åœ°å»ºè®® â†’ ä¸‹ä¸€æ­¥å‡çº§â€çš„ç»“æ„è¯´æ˜ã€‚",
        ragPrompt: "ç»“åˆ RAGã€Agentã€Routerã€Streaming çš„å·¥ç¨‹ä»·å€¼ï¼Œç»™å‡ºè½åœ°ä¼˜å…ˆçº§å®ä¾‹æ³¨æ„äº‹é¡¹ã€‚",
        questionMissing: "è¯·å…ˆè¾“å…¥é—®é¢˜å“¦ï½",
        statusRequesting: "è¯·æ±‚ä¸­...",
        statusDone: "å®Œæˆ âœ…",
        statusFail: "å¤±è´¥ âŒ",
        answerMissing: "(åç«¯æ²¡æœ‰è¿”å› answer å­—æ®µ)",
        corsHint: "è¯·æ±‚å¤±è´¥ï¼š\n{message}\n\nå¦‚æœä½ åœ¨æµè§ˆå™¨æ§åˆ¶å°çœ‹åˆ° CORS æŠ¥é”™ï¼Œéœ€è¦åç«¯æ”¾è¡Œ https://iehmltym.github.io",
        statRequestsText: "æ€»é‡ {total} Â· LLM {llm} Â· è§„åˆ™ {rule}",
        statCacheText: "å‘½ä¸­ {hits} / å¤±æ•ˆ {misses} Â· ç¼“å­˜å¤§å° {size}",
        statSessionsText: "æ´»è·ƒ {active} / ä¸Šé™ {max}",
        observabilitySummary: "æœ€è¿‘è¯·æ±‚ç»Ÿè®¡ï¼šLLM {llm} æ¬¡ï¼Œè§„åˆ™å‘½ä¸­ {rule} æ¬¡ï¼Œç¼“å­˜å‘½ä¸­ {cache} æ¬¡ã€‚",
        metaTemplate: "æ¥æºï¼š{source} | ç¼“å­˜å‘½ä¸­ï¼š{cacheHit} | å»¶è¿Ÿï¼š{latency}ms{ragInfo}{providerInfo}{routeInfo}{attachmentInfo}",
        ragInfo: " | RAG æ–‡æ¡£ï¼š{docs}",
        providerInfo: " | Providerï¼š{provider}",
        routeInfo: " | è·¯ç”±ï¼š{route}",
        attachmentInfo: " | é™„ä»¶ï¼š{name} ({size}B)",
        blueprintCore: "æ ¸å¿ƒèƒ½åŠ›",
        blueprintUse: "å…¸å‹ç”¨æ³•",
        blueprintRender: "Render",
        blueprintNext: "ä¸‹ä¸€æ­¥å‡çº§",
        styleChips: {
          styleProfessional: {
            label: "ä¸“ä¸šé¡¾é—®",
            prompt: "è¯·ç”¨ä¸“ä¸šã€ç®€æ´çš„é¡¾é—®è¯­æ°”å›ç­”ï¼Œç»™å‡ºå¯æ‰§è¡Œè¦ç‚¹ã€‚"
          },
          styleMinimal: {
            label: "æç®€è¦ç‚¹",
            prompt: "è¯·ç”¨è¦ç‚¹æ¸…å•è¾“å‡ºï¼Œæ¯æ®µä¸è¶…è¿‡ 3 è¡Œã€‚"
          },
          styleRoadmap: {
            label: "è·¯çº¿å›¾",
            prompt: "è¯·ä»¥è·¯çº¿å›¾å½¢å¼å›ç­”ï¼Œåˆ—å‡ºçŸ­ä¸­é•¿æœŸè¡ŒåŠ¨ã€‚"
          },
          styleCost: {
            label: "æˆæœ¬ä¼˜å…ˆ",
            prompt: "è¯·å¼ºè°ƒæˆæœ¬ä¸æ€§èƒ½å–èˆï¼Œç»™å‡ºç®€çŸ­å»ºè®®ã€‚"
          }
        }
      }
    };
    let apiBase = localStorage.getItem("api_base") || DEFAULT_API_BASE;
    let currentLang = localStorage.getItem("ui_lang") || "ja";
    const storedTheme = localStorage.getItem("ui_theme") || "day";
    if (window.location.hostname === "myagent-mhrq.onrender.com") {
      apiBase = window.location.origin;
    }
    document.getElementById("apiBase").textContent = apiBase;
    document.getElementById("apiInput").value = apiBase;

    const sessionInput = document.getElementById("session");
    const promptInput = document.getElementById("prompt");
    const attachmentInput = document.getElementById("attachment");
    const styleChips = document.querySelectorAll(".style-chip");
    const langSelect = document.getElementById("langSelect");
    const nightToggle = document.getElementById("nightToggle");

    function t(key, vars = {}) {
      const dict = translations[currentLang] || translations.ja;
      const template = dict[key] ?? "";
      return template.replace(/\{(\w+)\}/g, (_, name) => (vars[name] ?? ""));
    }

    function setElementText(element, text, isDefault = false) {
      if (!element) return;
      element.textContent = text;
      element.dataset.isDefault = isDefault ? "true" : "false";
    }

    function applyTranslations() {
      document.documentElement.lang = currentLang;
      document.title = t("title");

      document.querySelectorAll("[data-i18n]").forEach((el) => {
        const key = el.dataset.i18n;
        const value = t(key);
        if (value) {
          el.textContent = value;
        }
      });

      document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
        const key = el.dataset.i18nPlaceholder;
        const value = t(key);
        if (value) {
          el.placeholder = value;
        }
      });

      document.querySelectorAll("[data-i18n-default]").forEach((el) => {
        const key = el.dataset.i18nDefault;
        if (el.dataset.isDefault === "false") return;
        const value = t(key);
        if (value) {
          el.textContent = value;
        }
      });

      const chipSet = translations[currentLang]?.styleChips || {};
      styleChips.forEach((chip) => {
        const chipData = chipSet[chip.dataset.styleKey];
        if (!chipData) return;
        chip.textContent = chipData.label;
        chip.dataset.prompt = chipData.prompt;
      });
    }

    function setLanguage(lang) {
      currentLang = translations[lang] ? lang : "ja";
      localStorage.setItem("ui_lang", currentLang);
      langSelect.value = currentLang;
      applyTranslations();
    }

    function setNightMode(enabled) {
      document.body.classList.toggle("night", enabled);
      localStorage.setItem("ui_theme", enabled ? "night" : "day");
      nightToggle.checked = enabled;
    }

    function loadSessionId() {
      const stored = localStorage.getItem("session_id");
      if (stored) {
        sessionInput.value = stored;
        return;
      }
      const generated = `web-${crypto.randomUUID()}`;
      localStorage.setItem("session_id", generated);
      sessionInput.value = generated;
    }

    langSelect.addEventListener("change", (event) => {
      setLanguage(event.target.value);
    });

    nightToggle.addEventListener("change", (event) => {
      setNightMode(event.target.checked);
    });

    function saveApiBase() {
      const input = document.getElementById("apiInput");
      const nextBase = input.value.trim();
      if (!nextBase) {
        alert(t("alertApiInvalid"));
        return;
      }
      apiBase = nextBase;
      localStorage.setItem("api_base", apiBase);
      document.getElementById("apiBase").textContent = apiBase;
      loadCommands();
      loadBlueprint();
      loadStats();
    }

    async function loadCommands() {
      try {
        const resp = await fetch(`${apiBase}/features`);
        if (!resp.ok) throw new Error("æ— æ³•è·å–ç‰¹æ€§åˆ—è¡¨");
        const data = await resp.json();
        const container = document.getElementById("commands");
        if (!container) return;
        container.innerHTML = "";
        data.commands.forEach((item) => {
          const pill = document.createElement("button");
          pill.type = "button";
          pill.className = "pill";
          pill.textContent = `${item.cmd} Â· ${item.desc}`;
          pill.addEventListener("click", () => {
            document.getElementById("q").value = item.cmd;
          });
          container.appendChild(pill);
        });
        const providerSelect = document.getElementById("provider");
        providerSelect.innerHTML = "";
        data.providers.forEach((provider) => {
          const option = document.createElement("option");
          option.value = provider.id;
          option.textContent = `${provider.id} Â· ${provider.desc}`;
          providerSelect.appendChild(option);
        });
        providerSelect.value = "auto";
        const chainSteps = document.getElementById("chainSteps");
        chainSteps.innerHTML = "";
        (data.chains?.steps || []).forEach((step) => {
          const pill = document.createElement("div");
          pill.className = "pill";
          pill.textContent = step;
          chainSteps.appendChild(pill);
        });
      } catch (e) {
        const commands = document.getElementById("commands");
        if (commands) {
          commands.textContent = t("commandsLoadFail");
        }
      }
    }

    function renderBlueprintSection(containerId, title, items) {
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      if (!items || items.length === 0) return;
      items.forEach((item) => {
        const card = document.createElement("div");
        card.className = "blueprint-card";
        card.innerHTML = `<h4>${item.title}</h4><p>${item.content}</p>`;
        container.appendChild(card);
      });
    }

    async function loadBlueprint() {
      try {
        const resp = await fetch(`${apiBase}/blueprint`);
        if (!resp.ok) throw new Error("æ— æ³•è·å–è“å›¾æ•°æ®");
        const data = await resp.json();
        renderBlueprintSection("blueprintCore", t("blueprintCore"), data.sections.core);
        renderBlueprintSection("blueprintUse", t("blueprintUse"), data.sections.use);
        renderBlueprintSection("blueprintRender", t("blueprintRender"), data.sections.render);
        renderBlueprintSection("blueprintNext", t("blueprintNext"), data.sections.next);
        const tips = document.getElementById("blueprintTips");
        tips.innerHTML = "";
        data.tips.forEach((tip) => {
          const pill = document.createElement("div");
          pill.className = "pill";
          pill.textContent = tip;
          tips.appendChild(pill);
        });
      } catch (e) {
        const blueprintCore = document.getElementById("blueprintCore");
        if (blueprintCore) {
          blueprintCore.textContent = t("blueprintLoadFail");
        }
      }
    }

    async function loadStats() {
      try {
        const resp = await fetch(`${apiBase}/stats`);
        if (!resp.ok) throw new Error("æ— æ³•è·å–ç»Ÿè®¡æ•°æ®");
        const data = await resp.json();
        setElementText(
          document.getElementById("statRequests"),
          t("statRequestsText", {
            total: data.requests.total,
            llm: data.requests.llm,
            rule: data.requests.rule
          })
        );
        setElementText(
          document.getElementById("statCache"),
          t("statCacheText", {
            hits: data.cache.hits,
            misses: data.cache.misses,
            size: data.cache.size
          })
        );
        setElementText(
          document.getElementById("statSessions"),
          t("statSessionsText", {
            active: data.sessions.active,
            max: data.sessions.max
          })
        );
        setElementText(
          document.getElementById("observabilityLog"),
          t("observabilitySummary", {
            llm: data.requests.llm,
            rule: data.requests.rule,
            cache: data.requests.cache
          })
        );
      } catch (e) {
        setElementText(document.getElementById("observabilityLog"), t("statsLoadFail"));
      }
    }

    async function loadSystemInfo() {
      const panel = document.getElementById("systemInfo");
      setElementText(panel, t("systemLoading"), true);
      try {
        const resp = await fetch(`${apiBase}/system`);
        if (!resp.ok) throw new Error("æ— æ³•è·å–ç³»ç»ŸçŠ¶æ€");
        const data = await resp.json();
        setElementText(panel, JSON.stringify(data, null, 2));
      } catch (e) {
        setElementText(panel, t("systemFail"));
      }
    }

    async function loadObservability() {
      const panel = document.getElementById("observabilityEvents");
      setElementText(panel, t("observabilityLoadingText"), true);
      try {
        const resp = await fetch(`${apiBase}/observability/logs?limit=20`);
        if (!resp.ok) throw new Error("æ— æ³•è·å–è§‚æµ‹æ—¥å¿—");
        const data = await resp.json();
        setElementText(panel, JSON.stringify(data.events || [], null, 2));
      } catch (e) {
        setElementText(panel, t("observabilityFail"));
      }
    }

    async function clearObservability() {
      const panel = document.getElementById("observabilityEvents");
      setElementText(panel, t("observabilityClearing"), true);
      try {
        const resp = await fetch(`${apiBase}/observability/clear`, { method: "POST" });
        if (!resp.ok) throw new Error("æ— æ³•æ¸…ç©ºæ—¥å¿—");
        const data = await resp.json();
        setElementText(panel, t("observabilityCleared", { count: data.cleared }));
      } catch (e) {
        setElementText(panel, t("observabilityClearFail"));
      }
    }

    async function clearCache() {
      const panel = document.getElementById("systemInfo");
      setElementText(panel, t("cacheClearing"), true);
      try {
        const resp = await fetch(`${apiBase}/cache/clear`, { method: "POST" });
        if (!resp.ok) throw new Error("æ— æ³•æ¸…ç©ºç¼“å­˜");
        const data = await resp.json();
        setElementText(panel, t("cacheCleared", { count: data.cleared, size: data.cache_size }));
      } catch (e) {
        setElementText(panel, t("cacheClearFail"));
      }
    }

    async function clearSession() {
      const sessionId = sessionInput.value.trim();
      if (!sessionId) {
        alert(t("sessionMissing"));
        return;
      }
      await fetch(`${apiBase}/session/clear`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ session_id: sessionId })
      });
      alert(t("sessionCleared"));
    }

    async function previewAttachment() {
      const preview = document.getElementById("attachmentPreview");
      const file = attachmentInput?.files?.[0];
      if (!file) {
        setElementText(preview, t("attachmentMissing"));
        return;
      }
      setElementText(preview, t("attachmentAnalyzing"));
      let endpoint = "/files/describe";
      if (file.type.startsWith("image/")) {
        endpoint = "/images/describe";
      } else if (file.type.startsWith("audio/")) {
        endpoint = "/audio/describe";
      }
      const form = new FormData();
      form.append("file", file);
      try {
        const resp = await fetch(`${apiBase}${endpoint}`, { method: "POST", body: form });
        if (!resp.ok) throw new Error(`HTTP ${resp.status}`);
        const data = await resp.json();
        setElementText(preview, JSON.stringify(data, null, 2));
      } catch (e) {
        setElementText(preview, t("attachmentParseFail", { message: e.message }));
      }
    }

    function fillAdvisorPrompt() {
      document.getElementById("q").value = t("advisorPrompt");
    }

    function fillRagPrompt() {
      document.getElementById("q").value = t("ragPrompt");
    }

    async function ask() {
      const question = document.getElementById("q").value.trim();
      const statusText = document.getElementById("statusText");
      const dot = document.getElementById("dot");
      const ans = document.getElementById("ans");
      const metaPanel = document.getElementById("metaPanel");

      if (!question) {
        setElementText(ans, t("questionMissing"));
        return;
      }

      const streamToggle = document.getElementById("stream");
      const metaToggle = document.getElementById("meta");
      const advisorToggle = document.getElementById("advisor");
      const ragToggle = document.getElementById("rag");
      const toolsToggle = document.getElementById("enableTools");
      const routerToggle = document.getElementById("enableRouter");
      const attachment = attachmentInput?.files?.[0] || null;
      let stream = streamToggle.checked;
      const includeMeta = metaToggle.checked;
      if (includeMeta) {
        stream = false;
      }
      let mode = null;
      if (advisorToggle.checked) {
        mode = "advisor";
      } else if (ragToggle.checked) {
        mode = "rag";
      }

      const payload = {
        question,
        stream,
        include_meta: includeMeta,
        session_id: sessionInput.value.trim() || null,
        system_prompt: promptInput.value.trim() || null,
        mode,
        provider: document.getElementById("provider").value || "auto",
        temperature: parseFloat(document.getElementById("temperature").value || "0.7"),
        max_output_tokens: parseInt(document.getElementById("maxTokens").value || "2048", 10),
        top_p: parseFloat(document.getElementById("topP").value || "1"),
        top_k: parseInt(document.getElementById("topK").value || "1", 10),
        retries: parseInt(document.getElementById("retries").value || "1", 10),
        fallback_providers: document.getElementById("fallback").value
          .split(",")
          .map((item) => item.trim())
          .filter(Boolean),
        enable_tools: toolsToggle.checked,
        enable_router: routerToggle.checked
      };

      setElementText(statusText, t("statusRequesting"));
      dot.classList.add("loading");
      ans.textContent = "";
      setElementText(metaPanel, t("metaDefault"), true);

      try {
        let resp;
        if (attachment) {
          const form = new FormData();
          Object.entries(payload).forEach(([key, value]) => {
            if (value === null || value === undefined) return;
            if (Array.isArray(value)) {
              form.append(key, value.join(","));
            } else {
              form.append(key, String(value));
            }
          });
          form.append("file", attachment);
          resp = await fetch(`${apiBase}/ask/multimodal`, {
            method: "POST",
            body: form
          });
        } else {
          resp = await fetch(`${apiBase}/ask`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          });
        }

        if (!resp.ok) {
          const t = await resp.text();
          throw new Error(`HTTP ${resp.status}: ${t}`);
        }

        if (stream) {
          if (!resp.body) {
            ans.textContent = await resp.text();
          } else {
            const reader = resp.body.getReader();
            const decoder = new TextDecoder("utf-8");
            ans.textContent = "";
            while (true) {
              const { value, done } = await reader.read();
              if (done) break;
              ans.textContent += decoder.decode(value, { stream: true });
            }
          }
        } else {
          const data = await resp.json();
          setElementText(ans, data.answer ?? t("answerMissing"));
          if (data.meta) {
            const ragInfo = data.meta.rag_docs
              ? t("ragInfo", { docs: data.meta.rag_docs.join("ã€") })
              : "";
            const providerInfo = data.meta.provider
              ? t("providerInfo", { provider: data.meta.provider })
              : "";
            const routeInfo = data.meta.route_reason
              ? t("routeInfo", { route: data.meta.route_reason })
              : "";
            const attachmentInfo = data.meta.attachment
              ? t("attachmentInfo", {
                name: data.meta.attachment.filename,
                size: data.meta.attachment.size_bytes
              })
              : "";
            setElementText(
              metaPanel,
              t("metaTemplate", {
                source: data.meta.source,
                cacheHit: data.meta.cache_hit,
                latency: data.meta.latency_ms,
                ragInfo,
                providerInfo,
                routeInfo,
                attachmentInfo
              })
            );
          }
        }

        setElementText(statusText, t("statusDone"));
      } catch (e) {
        setElementText(statusText, t("statusFail"));
        setElementText(ans, t("corsHint", { message: e.message }));
      } finally {
        dot.classList.remove("loading");
      }
    }

    setLanguage(currentLang);
    setNightMode(storedTheme === "night");
    loadSessionId();
    loadCommands();
    loadBlueprint();
    loadStats();
    loadSystemInfo();
    loadObservability();

    styleChips.forEach((chip) => {
      chip.addEventListener("click", () => {
        promptInput.value = chip.dataset.prompt;
        promptInput.focus();
      });
    });
  </script>
</body>

</html>
